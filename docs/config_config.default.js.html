<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>config/config.default.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/axolo" target="_blank" class="menu-item" id="website_link" >GitHub</a></h2><h3>Classes</h3><ul><li><a href="DingtalkIsv.html">DingtalkIsv</a><ul class='methods'><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#genSignature">genSignature</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#getAgentInfo">getAgentInfo</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#getAuthInfo">getAuthInfo</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#getCache">getCache</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#getCorpToken">getCorpToken</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#getJsapiTicket">getJsapiTicket</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsv.html#setCache">setCache</a></li></ul></li><li><a href="DingtalkIsvMessage.html">DingtalkIsvMessage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="DingtalkIsvMessage.html#chat">chat</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsvMessage.html#notify">notify</a></li></ul></li><li><a href="DingtalkIsvUser.html">DingtalkIsvUser</a><ul class='methods'><li data-type='method' style='display: none;'><a href="DingtalkIsvUser.html#getUser">getUser</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsvUser.html#getUseridByUnionid">getUseridByUnionid</a></li><li data-type='method' style='display: none;'><a href="DingtalkIsvUser.html#getUserInfo">getUserInfo</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">config/config.default.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';

/**
 * **egg-dingtalk-isv default config**
 *
 * 1. 支持在`Egg.js`里共存多个不同钉钉ISV应用
 * 2. 支持同一个钉钉ISV应用分布在不同的套件里
 * 3. 支持同一个套件里含多个不同钉钉ISV应用（钉钉20190412更新，一个套件仅能有一个应用）
 *
 * 钉钉相关参数取得参见钉钉开放平台文档{@link https://open-dev.dingtalk.com/}
 *
 * 以客户端配置的`suiteid`和`appid`，过滤从服务端得到的授权企业信息的应用列表信息，可获得当前应用`AgentId`用于生成`JSAPI`签名。
 *
 * ```js
 * const agentId = require('lodash').find(auth_info.agent, {
 *   suite: CLINET_CONFIG.dingtalk.suiteid,
 *   appid: CLINET_CONFIG.dingtalk.appid
 * })
 * ```
 *
 * @member Config#dingtalk
 * @property {String} SOME_KEY - some description
 */
exports.dingtalkIsv = {
  // 默认配置，配置钉钉API地址，令牌存储Redis等等
  default: {
    api: 'https://oapi.dingtalk.com', // 钉钉开放平台 Open API地址
    cache: { // 令牌及票据缓存
      store: 'memory',
      ttl: 7190, // 钉钉默认7200秒，容错10秒请求时间
    },
  },
  // 支持多实例，建议API以多级路由分开，如：app1.dingtalk.sign
  // client: {
  //   name: 'app1', // 钉钉ISV应用名称
  //   suites: [{ // 支持多套件对于同一个应用
  //     suiteId: 0, // 套件Id（注意：格式是Number）
  //     suiteKey: '', // 套件Key
  //     suiteSecret: '', // 套件Secret
  //     suiteTicket: '', // 钉钉给套件推送的ticket，测试应用可以随意填写
  //     appId: [], // 应用id列表，支持多个应用部署同一套系统，（注意：元素格式是Number）
  //   }]
  // }
};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Fri Jan 03 2020 16:14:29 GMT+0800 (中国标准时间) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
